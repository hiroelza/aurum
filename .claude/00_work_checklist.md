# 作業開始時チェックリスト

**重要度**: 🔴 CRITICAL - すべての作業開始前に必ず確認すること

このチェックリストは、ルール違反や配置ミスを防ぐために作成されました。

---

## 新規ファイル作成時の確認事項（必須）

### ✅ ファイル配置前の確認

- [ ] **`.claude/02_directory_structure.md`を読んだか？**
  - 配置先ディレクトリのルールを確認
  - ファイル名の命名規則を確認
  - 配置判断基準を確認

- [ ] **配置先が正しいか？**
  - 作業中ファイル → `outputs/reports/working/yyyymm/yyyymmdd_テーマ/`
  - 最終成果物 → `outputs/reports/completed/yyyymmdd_テーマ/`
  - **documentルート直下への配置は厳禁**

- [ ] **月ディレクトリ（yyyymm/）を作成したか？**
  - 例: `outputs/reports/working/202511/`
  - この手順を忘れるとルール違反

---

## 投資判断時の確認事項（必須）

### ✅ 判断前の確認

- [ ] **`INVESTMENT_PROFILE.md`を読んだか？**
- [ ] **`PERSONAL_DATA.md`を読んだか？**
- [ ] **`.claude/01_project_overview.md`を読んだか？**

### ✅ 3エージェント評価の実施

- [ ] **`.claude/06a_three_agent_overview.md`を読んだか？**
- [ ] **3エージェント評価を実施したか？**
  - hayato（哲学）
  - researcher（統計）
  - japanese（税制・リスク）

### ✅ 判断後の記録

- [ ] **評価結果を`INVESTMENT_PROFILE.md`に記録したか？**

---

## Pythonスクリプト実行時の確認事項

### ✅ 実行前の確認

- [ ] **`.claude/04_python_guide.md`を読んだか？**
- [ ] **カレントディレクトリが`aurum/`か？**
  - `pwd`で確認
- [ ] **`python/config.py`を使用しているか？**
  - 直接パスを記述していないか確認

---

## 複雑なタスク（Level 4）開始時の確認事項

### ✅ プロセス確認

- [ ] **`.claude/03_work_process.md`を読んだか？**
- [ ] **4段階プロセスを守っているか？**
  - Step 1: 要件定義
  - Step 2: 要件詳細化
  - Step 3: TODO作成
  - Step 4: 実装

---

## ⚠️ ファイルパス指定の注意

**ファイルを読み込む前に、パスが正しいか確認すること。**

- 存在しないパスを推測で指定しない
- 複数のパスを扱う際は、各ファイルの正確な場所を意識する
- 重要ファイルの場所:
  - `INVESTMENT_PROFILE.md` → ルートディレクトリ
  - `sources/profile/` → 入力データ
  - `.claude/` → ルール・ガイド

**誤ったパス指定は、存在しないファイルへのアクセスやエラーを引き起こす。**

---

## セッション再開時の確認事項

### ✅ 前回作業の継続時に確認すること

作業を中断し、後日再開する場合は以下を確認してください：

- [ ] **`outputs/reports/working/`配下の最新ディレクトリを確認**
  - 月ディレクトリ（`yyyymm/`）配下を確認
  - 最終作業日のディレクトリ（`yyyymmdd_テーマ/`）を特定

- [ ] **TODO_*.mdの進捗状況を確認**
  - どのタスクまで完了したか（`[x]`マーク）
  - 未完了タスクは何か（`[ ]`のまま）
  - 途中で中断したタスクのメモを確認

- [ ] **未完了タスクの依存関係を確認**
  - 先行タスクが完了しているか
  - ブロッカーがないか確認
  - 必要なファイル・データが揃っているか

- [ ] **前回の気づき・メモを確認**
  - TODO_*.md内の「メモ・気づき」セクション
  - 要件定義・詳細ファイルの更新内容
  - 議論ファイル（Phase 1-4）の内容

- [ ] **実行環境の確認**
  - カレントディレクトリが`aurum/`か
  - 必要なPythonライブラリがインストール済みか
  - データファイル（CSV、PDF等）が最新か

### ⚠️ 複数セッションにまたがる作業の注意点

**ファイルベースの管理利点を活用する:**
- すべての作業記録がファイルで保存されている
- Git履歴で変更を追跡可能
- 前回セッションの思考プロセスを再現可能

**TodoWriteツールの制約:**
- `TodoWrite`ツールの内容はセッション終了時に消失
- 必ずファイル出力してから終了すること
- 次回セッションではファイルから再開

---

## 一般的な作業開始時の確認事項

### ✅ 関連ファイルの確認

作業内容に応じて、以下のファイルを**事前に読むこと**：

| 作業内容 | 確認すべきファイル |
|---------|------------------|
| **ファイル配置** | `.claude/02_directory_structure.md` |
| **投資判断** | `.claude/01_project_overview.md`、`06a_three_agent_overview.md` |
| **Python開発** | `.claude/04_python_guide.md` |
| **作業プロセス** | `.claude/03_work_process.md` |
| **トラブル対応** | `.claude/05_reference.md` |

---

## チェックリストの使い方

### 作業開始時（毎回）

1. **このファイル（00_work_checklist.md）を開く**
2. **該当するセクションのチェックリストを確認**
3. **関連ファイルを読む**
4. **すべてのチェック項目を確認**
5. **作業開始**

### 「記憶」ではなく「ドキュメント」に従う

- ❌ 「だいたいこんな感じだろう」→ ミスの原因
- ✅ 「ルールファイルを読んで確認」→ ミス防止

---

## このチェックリストが作成された理由

### 2025年11月9日の教訓

**ミス内容**:
- `outputs/reports/working/20251109_external_release_prep/`を作成
- 月ディレクトリ（`202511/`）を作成していなかった
- `.claude/02_directory_structure.md`のルールに違反

**原因**:
- ルールファイルは存在した
- しかし、作業開始時に確認しなかった
- 「記憶」に頼って配置した

**教訓**:
- **ルールファイルは必ず読む**
- **急がば回れ - 事前確認を最優先**
- **チェックリストで確実に確認**

---

---

## 更新履歴

### 2025年11月9日
- **パス指定ミス防止ルールを追加**
  - 問題: 存在しないパス `data\input\image\20251109_stock\INVESTMENT_PROFILE.md` を読み込もうとした
  - 原因: ファイルの場所を勘違いして誤ったパスを指定
  - 対策: 「⚠️ ファイルパス指定の注意」セクションを追加
  - 重要ファイルの正確な場所を明記

### 2025年11月9日（初版）
- チェックリスト作成
- ディレクトリ配置ルールの徹底

### 2025年11月11日
- **セッション再開時の確認事項を追加**
  - 複数セッションにまたがる作業への対応
  - TodoWriteツールとファイル管理のハイブリッド運用を明記

---

**作成日**: 2025年11月9日
**最終更新**: 2025年11月11日
