# 作業プロセス - プロセス省略の例外ルール

このファイルは、作業のLevel（1-4）に応じたプロセス省略の判断基準を定義します。

---

## 📚 関連ドキュメント

- **[03_work_process.md](03_work_process.md)** - 基本プロセスと作業開始前の原則
- **[03b_project_workflow.md](03b_project_workflow.md)** - temp_nワークフローとプロジェクト管理
- **[03c_agent_discussion.md](03c_agent_discussion.md)** - サブエージェント議論フレームワーク

---

## プロセス省略の例外ルール ⭐

以下の場合はプロセスを省略可能です：

---

### Level 1: 極めて簡単な作業（5分以内）

**条件:**
- タイポ修正（1-2箇所）
- コメント追加
- 既存ファイルの微修正（1-2行）

**プロセス:**
- すべてのプロセスを省略し、即座に実行可能
- 実行後に簡潔に報告（変更内容を1-2行で説明）

**例:**
```
ユーザー: investment_analysis.pyの35行目のタイポを修正して
AI: 修正しました。「caluculate」→「calculate」に変更しました。
```

---

### Level 2: 簡単な作業（30分以内）

**条件:**
- 小規模なパス変更（config.pyのみ）
- 既存機能の軽微な修正（1ファイル、5-10行程度）
- ドキュメントの部分更新（1セクション）
- グラフのラベル・フォーマット変更

**プロセス:**
- **Plan Modeで確認のみ**（要件定義は口頭で簡潔に）
- 要件詳細、TODO、議論は省略可能
- 実行後に簡潔に報告

**フロー:**
```
1. ユーザーからの依頼
2. AI: Plan Modeで変更内容を提示
3. ユーザー: 承認
4. AI: 実行
5. AI: 結果報告（変更ファイル、変更内容）
```

---

### Level 3: 中程度の作業（1-2時間）

**条件:**
- 複数ファイルの変更（2-5ファイル）
- 既存機能の中規模な修正
- 新しい分析パターンの追加
- データ処理ロジックの変更

**プロセス:**
- **要件定義+TODO作成**
- Plan Modeで要件を確認
- TODOリストを作成して実行
- 要件詳細、議論は必要に応じて

**ファイル出力:**
```
outputs/reports/working/202511/yyyymmdd_テーマ/
├── 要件定義_[タスク名].md        ← 必須
└── TODO_[タスク名].md             ← 必須
```

---

### Level 4: 複雑な作業（2時間以上）

**条件:**
- 新機能の追加
- 投資判断に関わる変更
- 大規模なリファクタリング
- アルゴリズム・データ構造の変更
- 複数セッションにまたがる作業

**プロセス:**
- **全プロセス必須**
- 要件定義→要件詳細→TODO→実行
- サブエージェント議論（必要に応じて）
- すべてをファイル出力して記録

**ファイル出力:**
```
outputs/reports/working/202511/yyyymmdd_テーマ/
├── 要件定義_[タスク名].md        ← 必須
├── 要件詳細_[タスク名].md        ← 必須
├── TODO_[タスク名].md             ← 必須
└── 議論_[テーマ]_phase*.md       ← 必要に応じて
```

---

## 例外（必ずプロセス実施） 🔴

以下の変更は**必ず全プロセスを実施**してください：

- 🔴 **INVESTMENT_PROFILE.mdの変更**
- 🔴 **投資判断に関わる変更**
- 🔴 **統計計算ロジックの変更**
- 🔴 **データ構造の変更**
- 🔴 **複数ファイルにまたがる変更**

**理由:** 家計・投資管理プロジェクトでは、誤った変更が人生設計に影響するため

---

## 判断フローチャート

```
作業依頼
  ↓
作業内容を分析
  ↓
Level 1: 極めて簡単？ (タイポ、コメント、1-2行)
  ↓ YES → 即座に実行 → 簡潔に報告
  ↓ NO
Level 2: 簡単？ (1ファイル、5-10行、30分以内)
  ↓ YES → Plan Mode確認 → 実行 → 報告
  ↓ NO
Level 3: 中程度？ (2-5ファイル、1-2時間)
  ↓ YES → 要件定義 → TODO → 実行
  ↓ NO
Level 4: 複雑 (新機能、投資判断、2時間以上)
  ↓
全プロセス必須
```

---

**最終更新**: 2025年11月9日（Phase 10: 03_work_process.mdから分割）
